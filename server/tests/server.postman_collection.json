{
	"info": {
		"_postman_id": "b8e9b2f8-f5b0-4a25-8df0-70464c52bdc2",
		"name": "server",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "15823420"
	},
	"item": [
		{
			"name": "Users Controller Test",
			"item": [
				{
					"name": "Create profile 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();\r",
									"var profileId = jsonData.userCreated._id;\r",
									"pm.environment.set(\"profileID_1\", profileId)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.userCreated.username).to.eql(\"HarryPotter\");\r",
									"    pm.expect(jsonData.userCreated.password).to.eql(\"Hogwarts123\");\r",
									"    pm.expect(jsonData.userCreated.question).to.eql(\"Which house?\");\r",
									"    pm.expect(jsonData.userCreated.answer).to.eql(\"Gryffindor\"); \r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts123\",\r\n    \"question\":\"Which house?\",\r\n    \"answer\": \"Gryffindor\"\r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create profile 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();\r",
									"var profileId =jsonData.userCreated._id;\r",
									"pm.environment.set(\"profileID_2\", profileId)\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.userCreated.username).to.eql(\"RonWeasley\");\r",
									"    pm.expect(jsonData.userCreated.password).to.eql(\"Hogwarts321\");\r",
									"    pm.expect(jsonData.userCreated.question).to.eql(\"Favorite color?\");\r",
									"    pm.expect(jsonData.userCreated.answer).to.eql(\"Orange\"); \r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"RonWeasley\",\r\n    \"password\":\"Hogwarts321\",\r\n    \"question\":\"Favorite color?\",\r\n    \"answer\": \"Orange\"\r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect- Username already",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"\r",
									"pm.test(\"Correct status code\",function(){\r",
									"    pm.response.to.have.status(409);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct  error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"      pm.expect(jsonData.message).to.eql(\"Username already exists\"); \r",
									"});      "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts123\",\r\n    \"question\":\"Which house?\",\r\n    \"answer\": \"Gryffindor\"\r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all -  2 profiles",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/profiles",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get profile 1",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.user.username).to.eql(\"HarryPotter\");\r",
									"    pm.expect(jsonData.user.password).to.eql(\"Hogwarts123\");\r",
									"    pm.expect(jsonData.user.question).to.eql(\"Which house?\");\r",
									"    pm.expect(jsonData.user.answer).to.eql(\"Gryffindor\"); \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Change profile 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\",function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct profile response\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.updatedUser.username).to.eql(\"HarryPotter\");\r",
									"    pm.expect(jsonData.updatedUser.password).to.eql(\"Hogwarts123\");\r",
									"    pm.expect(jsonData.updatedUser.question).to.eql(\"Which house?\");\r",
									"    pm.expect(jsonData.updatedUser.answer).to.eql(\"Under the stairs\"); \r",
									"  \r",
									"  \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"answer\":\"Under the stairs\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete  profile 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user message\"), function(){\r",
									"      var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"The profile has been deleted\");\r",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expected- User not found",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(404);\r",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "6324fc6dfae32c63c85a05b9"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expected -Get All- User not found",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"User not found\");\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Expected-Spec- User not found",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"User not found\");\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "6324ebae2552d448d071cc78"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Recipes Controller Test",
			"item": [
				{
					"name": "Create profile 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();\r",
									"var profileId =jsonData.userCreated._id;\r",
									"pm.environment.set(\"profileID_2\", profileId)\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.userCreated.username).to.eql(\"RonWeasley\");\r",
									"    pm.expect(jsonData.userCreated.password).to.eql(\"Hogwarts321\");\r",
									"    pm.expect(jsonData.userCreated.question).to.eql(\"Favorite color?\");\r",
									"    pm.expect(jsonData.userCreated.answer).to.eql(\"Orange\"); \r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"RonWeasley\",\r\n    \"password\":\"Hogwarts321\",\r\n    \"question\":\"Favorite color?\",\r\n    \"answer\": \"Orange\"\r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create recipe 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();\r",
									"var recipeId = jsonData.recipeCreated._id;\r",
									"pm.environment.set(\"recipeId1\", recipeId);\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct recipe response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.recipeCreated.name).to.eql(\"Recipe1\");\r",
									"    pm.expect(jsonData.recipeCreated.category).to.eql(\"Lunch\");\r",
									"    pm.expect(jsonData.recipeCreated.tag).to.toString.to.eql(\"tag1 tag2\");\r",
									"    pm.expect(jsonData.recipeCreated.name).to.eql(\"Recipe1\");\r",
									" \r",
									"});\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\":\"Recipe1\",\r\n    \"category\": \"Lunch\",\r\n    \"picture\":\"\",\r\n    \"tag\":[\"bad\",\"fast\"],\r\n    \"recipeItems\": [\"ketchup\", \"pasta\"],\r\n    \"instruction\":\"Cooking instruction\"\r\n    \r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/recipes",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"recipes"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create recipe 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();\r",
									"var recipeId =jsonData.recipeCreated._id;\r",
									"pm.environment.set(\"recipeId2\", recipeId);\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct recipe response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.recipeCreated.name).to.eql(\"Recipe1\");\r",
									"    pm.expect(jsonData.recipeCreated.category).to.eql(\"Lunch\");\r",
									"    pm.expect(jsonData.recipeCreated.tag).to.toString.to.eql(\"tag1 tag2\");\r",
									"    pm.expect(jsonData.recipeCreated.name).to.eql(\"Recipe1\");\r",
									" \r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\":\"Recipe2\",\r\n    \"category\": \"Lunch\",\r\n    \"picture\":\"\",\r\n    \"tag\":[\"diet\"],\r\n    \"recipeItems\": [\"sallad\", \"lemon\"],\r\n    \"instruction\":\"Cooking instruction\"\r\n    \r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/recipes",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"recipes"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all recipes",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/recipes",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"recipes"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete recipe 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(202);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message.name).to.eql(\"The recipe has been deleted\");\r",
									" \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/recipes/:recipeId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"recipes",
								":recipeId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "recipeId",
									"value": "{{recipeId1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete recipe 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(202);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.recipeCreated.name).to.eql(\"Not found\");\r",
									" \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/recipes/:recipeId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"recipes",
								":recipeId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "recipeId",
									"value": "{{recipeId2}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete profile 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user message\"), function(){\r",
									"      var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"The profile has been deleted\");\r",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_2}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete profile 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user message\"), function(){\r",
									"      var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"The profile has been deleted\");\r",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "host",
			"value": "http://localhost:3000",
			"type": "string"
		}
	]
}